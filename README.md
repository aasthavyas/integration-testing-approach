# Integration Testing of Dockerized Application with Configuration

## Introduction

This project demonstrates how to create a Dockerized application consisting of two containers:

1. **config-container**: A container responsible for storing configuration data.
2. **application-container**: A container that uses the configuration data to run a Python application.

The goal is to showcase how to send configurations from one container to another using a shared volume and verify via test cases that both containers are running as expected with the required logs.

## Project Structure

```bash
project-root/
│
├── config/
│ └── config.json # Configuration file
│
├── config-container/
│ ├── Dockerfile # Dockerfile for config-container
│ └── entrypoint.sh # Shell script to start the container
│
├── application-container/
│ ├── Dockerfile # Dockerfile for application-container
│ ├── app.py # Python application using the config
│ └── requirements.txt # Python dependencies (if any)
│
└── docker-compose.yml # Docker Compose file to manage both containers
└── integration_test_container.py # Python test file to test the containers logs and running
```

## Prerequisites

Before you begin, ensure you have the following installed on your system:

- [Docker](https://www.docker.com/get-started)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [Python](https://www.python.org/downloads/)

## Getting Started

Follow these steps to set up and run the project:

1. **Configure the Application**:
    Edit the config/config.json file to define your application configuration. Customize the values according to your needs.

1. **Build and Start Containers**:

    Run the following command to build and start the containers:

    ``` bash
    docker-compose up --build -d
    ```

    This command will start the config-container and application-container in detached mode, allowing them to run in the background.

1. **Run Tests**:

    To check if both containers are running and if the expected logs are coming, execute the Python test script:

    ``` python
    python integration_test_container.py
    ```

1. **Stop Containers**:

    After running the tests or when you're done with the application, stop and remove the containers:

    ``` bash
    docker-compose down
    ```

    This command will gracefully stop and remove the containers.

    The script will wait for a few seconds to allow the containers to start, run your specified tests, and check the logs.

## Customization

### Configuration File

Modify the config.json file in the config directory to define your application's specific configuration parameters.

### Application Logic

Customize the app.py file in the application-container directory to adapt the Python application according to your requirements.

### Test Cases

Post the customization of the app.py, you can update the test cases in the integration_test_container.py to suitably, and add more test cases as per the use case.

## Dependencies

If your Python application has additional dependencies, you can add them to the requirements.txt file in the application-container directory.

## Troubleshooting

- If you encounter any issues or errors during the setup or execution, consider the following:

- Ensure Docker and Docker Compose are correctly installed and running on your system.

- Check that the config.json file in the config directory is correctly configured with your desired values.

- Review the logs generated by the docker-compose up command for any error messages.
